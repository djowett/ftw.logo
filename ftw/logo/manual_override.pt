<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="ftw.logo"
      metal:use-macro="context/main_template/macros/master">

    <metal:block fill-slot="main">
      <h1>Manually set site Logos and Icons</h1>
      <metal:block use-macro="context/@@ploneform-macros/titlelessform" >
        <metal:field-slot fill-slot="fields">
          <table>
            <thead>
              <tr>
                <th class="zcml-image">ZCML logos/icons</th>
                <th class="dexterity-override">Manual Overrides</th>
              </tr>
            </thead>
            <tbody>
              <tal:widgets repeat="widget view/widgets/values">
                <tr>
                  <th colspan="2">
                    <div class="field-title"
                          tal:content="widget/label"></div>
                    <div class="field-desc"
                          tal:content="widget/field/description"></div>
                  </th>
                </tr>
                <tr>
                  <td tal:define="widgetname python:widget.name.split('.')[-1];
                                  scale_name python:widgetname.replace('_', '/', 1);"
                      class="zcml-image">
                    <img tal:attributes="src string:/ftw_logo/@@logo/z/${scale_name}" />
                  </td>
                  <td class="dexterity-override">
                    <metal:field use-macro="context/@@ploneform-macros/field">
                    </metal:field>
                  </td>
                </tr>
              </tal:widgets>
            </tbody>
          </table>
        </metal:field-slot>
      </metal:block>
    </metal:block>


</html>
